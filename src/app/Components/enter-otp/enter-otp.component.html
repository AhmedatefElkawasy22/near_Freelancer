<div class="body">
    <div class="otp-container">
      <h2>Enter OTP</h2>
      <p>We've sent an OTP to your email. Please enter it below to continue.</p>
      <form #otpForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="otp-inputs">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[0]" name="otp[0]" 
                 (keydown)="onInputKeyDown($event, 0)" (input)="onInput($event, 0)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp0="ngModel">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[1]" name="otp[1]" 
                 (keydown)="onInputKeyDown($event, 1)" (input)="onInput($event, 1)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp1="ngModel">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[2]" name="otp[2]" 
                 (keydown)="onInputKeyDown($event, 2)" (input)="onInput($event, 2)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp2="ngModel">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[3]" name="otp[3]" 
                 (keydown)="onInputKeyDown($event, 3)" (input)="onInput($event, 3)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp3="ngModel">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[4]" name="otp[4]" 
                 (keydown)="onInputKeyDown($event, 4)" (input)="onInput($event, 4)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp4="ngModel">
          <input type="text" maxlength="1" minlength="1" [(ngModel)]="otp[5]" name="otp[5]" 
                 (keydown)="onInputKeyDown($event, 5)" (input)="onInput($event, 5)" 
                 required pattern="[0-9]*" inputmode="numeric" #otp5="ngModel">
        </div>
        

        <div *ngIf="otpForm.form.invalid && (otp0.touched&&otp1.touched&&otp2.touched&&otp3.touched&&otp4.touched&&otp5.touched)">
            <div class="alert alert-danger">Please enter a valid OTP</div>
        </div>
        
        <button type="submit" [hidden]="otpForm.form.invalid" class="btn-submit">Verify OTP</button>
      </form>
      <button [hidden]="!isButtonDisabled" (click)="startcountdown()" class="btn-resend">
        i need otp again
      </button>
      <button [hidden]="isButtonDisabled" (click)="resendOtp()" class="btn-resend">
         Resend OTP
      </button>
      @if (isButtonDisabled) {
        <div class="text-muted">Resending OTP in {{countdown}} seconds</div>
      }
    </div>
  </div>
  